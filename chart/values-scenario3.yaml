# Scenario 3 — +Deadline+Bulkhead+CircuitBreaker
# Failure mode: B_DELAY_MS=200 (slow B triggers overload cascade)
# Lesson: deadline + bulkhead + CB sever the overload cascade; retry without
#         CB would amplify load — this scenario adds the guardrails
appA:
  env:
    - {name: RESILIENCE_ENABLED, value: "true"}
    - {name: RETRY_ENABLED,      value: "true"}
    - {name: DEADLINE_MS,        value: "800"}
    - {name: MAX_INFLIGHT,       value: "10"}
    - {name: CHANNEL_POOL_SIZE,  value: "1"}
appB:
  env:
    - {name: B_DELAY_MS, value: "200"}
    - {name: FAIL_RATE,  value: "0.3"}
