## Summary

Implements P0 Milestone: Baseline E2E Running

This PR completes all 5 P0 tasks (T01â†’T06â†’T02â†’T07â†’T08) following the execution order defined in `docs/execution_order.md`. The baseline system is now ready for deployment and testing.

## Architecture

- **Application A**: Spring Boot REST API (**2 pods** - IMMUTABLE)
- **Application B**: Go gRPC service (**3 pods** - IMMUTABLE)
- **B gRPC port**: 50051
- **B metrics port**: 8080
- **Namespace**: demo
- **Cluster**: kind (resilience-pattern)

## Tasks Completed

### âœ“ T01: Repo hygiene (#1)
- Created directory structure: `apps/`, `chart/`, `scripts/`, `tests/`
- Added README.md with architecture (A=2, B=3)
- Added .gitignore
- Verified execution_order.md exists

### âœ“ T06: app-b baseline (#2)
- Implemented Go gRPC service on port 50051
- Single-thread worker (mutex-enforced concurrency=1)
- B_DELAY_MS env var support (default=5ms)
- Metrics endpoint on port 8080: `b_busy`, `b_requests_total`
- Proto contract: `proto/demo.proto`

### âœ“ T02: app-a baseline (#3)
- Implemented Spring Boot 3.2.1 REST API
- Endpoint: GET /api/work (makes 1 gRPC call to B)
- Response: `{ok, code, latencyMs}`
- Actuator endpoint: /actuator/prometheus
- B_SERVICE_URL env var (default: localhost:50051)

### âœ“ T07: Helm chart scaffold (#4)
- Chart: resilience-demo v0.1.0
- app-a deployment: **replicas=2**, service port 8080
- app-b deployment: **replicas=3**, service ports 50051+8080
- Health/readiness probes for both services

### âœ“ T08: Values overlays (#5)
- `values-common.yaml`: shared config (A=2, B=3 replicas)
- `values-baseline.yaml`: resilience.enabled=false
- `values-s1.yaml`: B_DELAY_MS=200 (overload scenario)
- `values-s4.yaml`: B_DELAY_MS=5 (connection reset scenario)

## Proof of Completion

All DoD proofs passed for each task:
- T01: Directory structure verified
- T06: Docker build + metrics endpoint working
- T02: Docker build + REST endpoint + Prometheus metrics working
- T07: Helm lint passed, replicas verified (A=2, B=3)
- T08: 4 values files, overlay merging verified

## Commit Quality

- âœ“ All commits follow conventional format: `<type>: <description>`
- âœ“ All commits include "Relates to #<N>"
- âœ“ **NO "Co-authored-by:" lines** (hard gate enforced)
- âœ“ Title length: â‰¤80 chars with prefix
- âœ“ All issues closed with proof outputs

## Test Plan

### Local Testing
```bash
# Build images
docker build -t app-b:dev -f apps/app-b/Dockerfile .
docker build -t app-a:dev -f apps/app-a/Dockerfile .

# Test app-b
docker run -d -p 50051:50051 -p 8080:8080 -e B_DELAY_MS=10 --name test-b app-b:dev
curl -s http://localhost:8080/metrics | grep -E "^b_busy|^b_requests_total"

# Test app-a
docker run -d -p 8081:8080 -e B_SERVICE_URL=host.docker.internal:50051 --name test-a app-a:dev
curl -s http://localhost:8081/api/work | jq .
curl -s http://localhost:8081/actuator/prometheus | head -5

# Cleanup
docker rm -f test-a test-b
```

### Kubernetes Testing (Future - P0 Exit Verification)
```bash
kind create cluster --name resilience-pattern
# Load images (scripts TBD)
helm upgrade --install demo ./chart -f chart/values-common.yaml -f chart/values-baseline.yaml
kubectl get pods
# Expected: 2 app-a pods, 3 app-b pods Running
```

## Next Steps

After PR approval, next milestone is **P1: Baseline Evidence Ready**:
- T03: Metrics & semantic error taxonomy
- T09A: Scenario runner for S1 baseline

## Checklist

- [x] All P0 tasks completed (T01, T06, T02, T07, T08)
- [x] All DoD proofs passed and documented in issues
- [x] Architecture invariants preserved (A=2, B=3)
- [x] Clean commit history (no Co-authored-by lines)
- [x] All issues closed with evidence
- [x] Docker builds successful for both apps
- [x] Helm chart lints successfully

---

ðŸ¤– Generated by Developer agent following 8-step workflow defined in `docs/developer_prompts.md`
